- ุงูุฃููุงุฏ ุบูุฑ ุงููุณุชุฎุฏูุฉ ูุงูููุชุฉ (Dead Code) ๐งน
ูู ScreenplayEditor.tsx:

ุงููุชุบูุฑ isProcessingAI ูุงูุฏุงูุฉ setIsProcessingAI ููุฌูุฏุงู ูููููุง ุบูุฑ ูุณุชุฎุฏููู ูุนููุงู ูู ุงูููุช ุงูุญุงูู (ูุชู ุงุณุชุฏุนุงุคููุง ูู handleGenerateIdeas ู handleAutoFormat ููู ูุง ููุฌุฏ ูุคุดุฑ loading ูุธูุฑ ูููุณุชุฎุฏู ูู ุงูู UI ุจูุงุกู ุนููููุง).
ุงูุฏุงูุฉ handleHistoryุ handleSaveุ handleDownload ูู ูุฌุฑุฏ "Mock functions" ุชุนุฑุถ ุฑุณุงุฆู Toast ููุท. ูุฌุจ ุชูุถูุญ ุฐูู ุฃู ุงูุจุฏุก ูู ุชุทุจูู ุงูููุทู ุงูุญูููู.
ูู EditorArea.tsx:

ุงูุฏุงูุฉ updateStats ุงูุชู ูููุง ุจููููุง ุฃุตุจุญุช ุบูุฑ ูุณุชุฎุฏูุฉ ูุฏุงูุฉ ูููุตูุฉ ูุฃููุง ุฏูุฌูุง ููุทููุง ุฏุงุฎู handleInteraction. ูููู ุญุฐู ุชุนุฑูู updateStats ูู ุงูุณุทุฑ 17-23 ูุชูุธูู ุงูููุฏ.
2- ุงูุชูุฑุงุฑ ูุณูุก ุงูุชูุฒูุน (Duplication & Separation of Concerns) โ๏ธ
ููุทู ููุงุนุฏ ุงูุณููุงุฑูู (Business Logic Leakage):

ูู EditorArea.tsxุ ุชูุฌุฏ ุฏุงูุฉ getNextFormatOnEnter (ูู ุฃุณูู ุงูููู) ูุฏุงูุฉ getNextFormatOnTab. ูุฐู ุฏูุงู ููุทููุฉ ุจุญุชุฉ ("Business Rules") ุชุญุฏุฏ ููุงุนุฏ ุงููุชุงุจุฉ ุงูููุงุณูุฉ ููุณููุงุฑูู. ูุฌูุฏูุง ุฏุงุฎู ููู ุงูู React Component ููุณ ูุซุงููุงู.
ุงูุญู ุงูููุชุฑุญ: ููู ูุฐู ุงูุฏูุงู ุฅูู ููู ุฌุฏูุฏ src/utils/screenplay-rules.ts. ูุฐุง ุณูุฌุนู EditorArea ุฃุตุบุฑ ูุฃุณูู ูููุฑุงุกุฉุ ููุณูุญ ูู ุจุงุฎุชุจุงุฑ (Unit Test) ููุงุนุฏ ุงูุณููุงุฑูู ุจุดูู ูููุตู.
ูุนุงูุฌุฉ DOM ุงููุจุงุดุฑุฉ (Direct DOM Manipulation):

ุงูุฏูุงู handleGenerateIdeas ู handleAutoFormat ูู ScreenplayEditor.tsx ูุง ุฒุงูุช ุชููู ุจุญูู HTML ูุจุงุดุฑุฉ ูู editorRef.current.innerHTML. ูุฐุง ุงูุฃุณููุจ "Imperative" ูุฏ ูุณุจุจ ูุดุงูู ูู ุชุชุจุน ุญุงูุฉ ุงูู Undo/Redo ุฃู ุญุงูุฉ React.
ุงูุญู ุงูุฃูุถู: ููุถู ุฅูุดุงุก ุฏุงูุฉ ุฏุงุฎู EditorArea (ุจุงุณุชุฎุฏุงู useImperativeHandle) ุชุณูู insertContent(html: string) ุชุชููู ูู ูุณุคูููุฉ ุงูุฅุถุงูุฉ ูุงูุชูุธูู ูุชุญุฏูุซ ุงูุชุงุฑูุฎุ ุจุฏูุงู ูู ุฃู ูููู ุงูุฃุจ ุจุงูุนุจุซ ูู DOM ุงูุงุจู.
3- ุงููููุงุช ูุงูุชูุธูู (File Organization) ๐
ุงููุฌูุฏ ui: ูุญุชูู ุนูู ููููุงุช Shadcn UI (ูุซู button.tsx, dialog.tsx..). ูุฐุง ููุชุงุฒ ููุง ูุญุชุงุฌ ุชุบููุฑ.
ุงููุฌูุฏ ai: ููุธู ุฌูุฏุงู (flows, genkit.ts).
ูููุงุช ุงูู Barrel (index.ts):
index.ts: โ ูุญุฏุซ ููุตุฏุฑ ูู ุงูููููุงุช.
index.ts: โ ูุตุฏุฑ ูู ุงูุฃุฏูุงุช.
index.ts: โ ููุชุงุฒ.
4- ุงูุฎุทุฉ ุงูุชูููุฐูุฉ ุงูููุชุฑุญุฉ ๐๏ธ
ูููุตูู ุฅูู ููุฏ ูุซุงูู ("Clean Code")ุ ุฃูุชุฑุญ ุงูุฎุทูุงุช ุงูุชุงููุฉ:

ุญุฐู ุงูููุฏ ุงูููุช ุฏุงุฎู EditorArea.tsx: ุฅุฒุงูุฉ ุฏุงูุฉ updateStats ุงููุฏููุฉ ุงููุนุฑูุฉ ุจู useCallback ูุงูุชู ูู ุชุนุฏ ุชุณุชุฏุนู (ูุฃููุง ููููุง ุงูููุทู ูู handleInteraction).
ุฅูุดุงุก ููู src/utils/screenplay-rules.ts: ูููู ุงูุฏูุงู ุงูููุทููุฉ (getNextFormatOnEnter, getNextFormatOnTab) ุฅููู.
ุชูุธูู ScreenplayEditor.tsx: ุงูุชุฃูุฏ ูู ุงุณุชุฎุฏุงู ุญุงูุฉ isProcessingAI ูุฅุธูุงุฑ ูุคุดุฑ ุชุญููู (Spinner) ูููุณุชุฎุฏูุ ูุฅูุง ุญุฐููุง ุฅุฐุง ูู ุชูู ูุทููุจุฉ ุงูุขู.
ูู ุชุฑูุฏ ุฃู ุฃุจุฏุฃ ุจู "ุชูุธูู EditorArea.tsx" ูููู ููุงุนุฏ ุงูุณููุงุฑูู ูููู ูููุตูุ ูุฐุง ุณูููู ุญุฌู ุงูููู ุจุดูู ูุจูุฑ.